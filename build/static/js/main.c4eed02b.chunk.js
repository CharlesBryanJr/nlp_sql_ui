(this.webpackJsonpnatural_language_sql_query_ui=this.webpackJsonpnatural_language_sql_query_ui||[]).push([[0],{114:function(e,t){e.exports={CREATE:"CREATE",UPDATE:"UPDATE",DELETE:"DELETE",FETCH_ALL:"FETCH_ALL",FETCH_BY_SEARCH:"FETCH_BY_SEARCH",FETCH_POST:"FETCH_POST",LIKE:"LIKE",COMMENT:"COMMENT",FETCH_BY_CREATOR:"FETCH_BY_CREATOR",AUTH:"AUTH",LOGOUT:"LOGOUT",START_LOADING:"START_LOADING",END_LOADING:"END_LOADING",CREATE_CARRIER:"CREATE_CARRIER",UPDATE_CARRIER:"UPDATE_CARRIER",DELETE_CARRIER:"DELETE_CARRIER",FETCH_CARRIER_BY_SEARCH:"FETCH_CARRIER_BY_SEARCH",FETCH_ALL_CARRIERS:"FETCH_ALL_CARRIERS",FETCH_CARRIER:"FETCH_CARRIER",CREATE_LOAD:"CREATE_LOAD",UPDATE_LOAD:"UPDATE_LOAD",DELETE_LOAD:"DELETE_LOAD",FETCH_LOAD_BY_SEARCH:"FETCH_LOAD_BY_SEARCH",FETCH_ALL_LOADS:"FETCH_ALL_LOADS",FETCH_LOAD:"FETCH_LOAD",CREATE_INVOICE:"CREATE_INVOICE",UPDATE_INVOICE:"UPDATE_INVOICE",DELETE_INVOICE:"DELETE_INVOICE",FETCH_INVOICE_BY_SEARCH:"FETCH_INVOICE_BY_SEARCH",FETCH_ALL_INVOICES:"FETCH_ALL_INVOICES",FETCH_INVOICE:"FETCH_INVOICE",FETCH_DRAFT:"FETCH_DRAFT",CREATE_QUERY:"CREATE_QUERY",UPDATE_QUERY:"UPDATE_QUERY",DELETE_QUERY:"DELETE_QUERY",FETCH_QUERY_BY_SEARCH:"FETCH_QUERY_BY_SEARCH",FETCH_ALL_QUERIES:"FETCH_ALL_QUERIES",FETCH_QUERY:"FETCH_QUERY"}},219:function(e,t,r){e.exports=r(220)},220:function(e,t,r){const a=r(0),n=r(11),{Provider:o}=r(117),{createStore:i,applyMiddleware:l,compose:s}=r(209),c=r(228).default,u=r(229),d=r(231);r(269);const p=i(u,s(l(c))),m=document.getElementById("root");m?n.render(a.createElement(o,{store:p},a.createElement(d,null)),m):console.error("Failed to find the root element")},229:function(e,t,r){const{combineReducers:a}=r(209),n=a({auth:r(230)});e.exports=n},230:function(e,t,r){const a=r(114);e.exports=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.AUTH:return localStorage.setItem("profile",JSON.stringify({...null===t||void 0===t?void 0:t.data})),{...e,authData:t.data,loading:!1,errors:null};case a.LOGOUT:return localStorage.clear(),{...e,authData:null,loading:!1,errors:null};default:return e}}},231:function(e,t,r){const a=r(0),{Container:n,CssBaseline:o}=r(77),{BrowserRouter:i,Switch:l,Route:s,Redirect:c}=r(116),{createTheme:u,ThemeProvider:d}=r(53),p=r(237),m=r(241),E=r(243),g=u({palette:{type:"dark",primary:{main:"#90caf9"},secondary:{main:"#f48fb1"},background:{default:"#787878",paper:"#888888"},text:{primary:"#ffffff",secondary:"#c0c0c0"}}});e.exports=()=>a.createElement(d,{theme:g},a.createElement(o,null),a.createElement(i,null,a.createElement(n,{maxWidth:"xl"},a.createElement(p,null),a.createElement(l,null,a.createElement(s,{path:"/",exact:!0,component:()=>a.createElement(c,{to:"/Dashboard"})}),a.createElement(s,{path:"/Dashboard",exact:!0,component:m}),a.createElement(s,{path:"/Query",exact:!0,component:E})))))},237:function(e,t,r){const a=r(0),{useState:n,useEffect:o,useCallback:i}=r(0),{AppBar:l,Typography:s,Toolbar:c,Avatar:u,Button:d}=r(77),{Link:p,useHistory:m,useLocation:E}=r(116),{useDispatch:g}=r(117),f=r(238),_=r(239),{LOGOUT:h}=r(114),C=r(240);e.exports=()=>{const[e,t]=n(()=>JSON.parse(localStorage.getItem("profile"))),r=g(),T=E(),v=m(),A=C(),R=i(()=>{r({type:h}),v.push("/auth"),t(null),localStorage.removeItem("profile")},[r,v]);return o(()=>{const e=localStorage.getItem("profile");e&&t(JSON.parse(e))},[T]),o(()=>{const t=e?e.token:null;(()=>{if(t){1e3*f(t).exp<(new Date).getTime()&&R()}})()},[R,e]),a.createElement(l,{className:A.appBar,position:"static",color:"inherit"},a.createElement(p,{to:"/",className:A.brandContainer},a.createElement("img",{src:_,alt:"icon",height:"45px"})),a.createElement(c,{className:A.toolbar},(null===e||void 0===e?void 0:e.result)?a.createElement("div",{className:A.profile},a.createElement(u,{className:A.purple,alt:e.result.name,src:e.result.imageUrl},e.result.name.charAt(0)),a.createElement(s,{className:A.userName,variant:"h6"},e.result.name),a.createElement(d,{variant:"contained",className:A.logout,color:"secondary",onClick:R},"Logout")):a.createElement("div",{className:A.profile},a.createElement(s,{variant:"h6"},"Athena SQL Assistant"),a.createElement(d,{component:p,to:"/auth",variant:"contained",color:"primary"},"Sign In"))))}},239:function(e,t,r){e.exports=r.p+"static/media/CAB_logo.914cf750.png"},240:function(e,t,r){const{makeStyles:a}=r(53),{deepPurple:n}=r(118);e.exports=a(e=>({appBar:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 50px",[e.breakpoints.down("sm")]:{flexDirection:"column"}},heading:{color:e.palette.primary.main,textDecoration:"none",fontSize:"2em",fontWeight:300},image:{marginLeft:"10px",marginTop:"5px"},toolbar:{display:"flex",justifyContent:"flex-end",width:"400px",[e.breakpoints.down("sm")]:{width:"auto"}},profile:{display:"flex",justifyContent:"space-between",width:"400px",alignItems:"center",[e.breakpoints.down("sm")]:{width:"auto",marginTop:20,justifyContent:"center"}},logout:{marginLeft:"20px"},userName:{display:"flex",alignItems:"center",textAlign:"center"},brandContainer:{display:"flex",alignItems:"center"},purple:{color:e.palette.getContrastText(n[500]),backgroundColor:n[500]}}))},241:function(e,t,r){const a=r(0),{Link:n}=r(116),{Typography:o}=r(77),i=r(242);e.exports=()=>{const e=i();return a.createElement("div",{className:e.dashboardContainer},a.createElement(o,{variant:"h4",className:e.heading},"Dashboard"),a.createElement("div",{className:e.itemContainer},a.createElement("div",{className:e.item},a.createElement(o,{variant:"h6"},"Query"),a.createElement("ul",{className:e.list},a.createElement("li",{className:e.listItem},a.createElement(n,{to:"/Query",className:e.link},"Athena Query"))))))}},242:function(e,t,r){const{makeStyles:a}=r(53),n=a(e=>({appBarSearch:{borderRadius:4,marginBottom:e.spacing(2),display:"flex",padding:e.spacing(2)},pagination:{borderRadius:4,marginTop:e.spacing(2),padding:e.spacing(2)},gridContainer:{[e.breakpoints.down("xs")]:{flexDirection:"column"}},dashboardContainer:{marginTop:e.spacing(4)},heading:{marginBottom:e.spacing(2)},link:{display:"block",marginBottom:e.spacing(1),textDecoration:"none",color:e.palette.primary.main,fontWeight:500},itemContainer:{display:"grid",gridTemplateColumns:"repeat(1, 1fr)",gap:e.spacing(2),[e.breakpoints.down("sm")]:{gridTemplateColumns:"1fr"}},item:{marginRight:e.spacing(2)}}));e.exports=n},243:function(e,t,r){const a=r(0),{useState:n}=r(0),{TextField:o,Button:i,Checkbox:l,Paper:s,Typography:c,Accordion:u,AccordionSummary:d,AccordionDetails:p,Grid:m,FormGroup:E,FormControlLabel:g,FormControl:f,InputLabel:_,Select:h,MenuItem:C,Link:T}=r(77),v=r(244).default,{makeStyles:A}=r(53),{useDispatch:R}=r(117),{create_query:y}=r(249),I=A(e=>({root:{width:"100%",backgroundColor:"#424242",color:"#fff",padding:e.spacing(2)},title:{marginBottom:e.spacing(1)},input:{marginBottom:e.spacing(2),"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.5)"}}},buttonGroup:{display:"flex",gap:e.spacing(2),marginBottom:e.spacing(2)},button:{flex:1},stateInfo:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:e.spacing(2),marginBottom:e.spacing(2)},manageAgent:{backgroundColor:"#616161",color:"#fff"},formControl:{minWidth:120,"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.5)"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiSelect-icon":{color:"#fff"}},urlLink:{color:e.palette.primary.main,marginLeft:e.spacing(1),cursor:"pointer","&:hover":{color:e.palette.primary.dark}}})),b={query:"write a SQL query calculates the total number of COVID-19 tests conducted in each state and then list these states in descending order based on the volume of tests, starting with the state that has conducted the most tests.",database:"covid-19",review_define_objective:!1,review_before_generate:!1,review_after_generate:!1,review_after_reflect:!1,research_critique:!1,detailed:!1,lastNode:null,nextNode:null,thread:{configurable:{thread_id:"1"}},draftRev:0,count:"",writer_result:null,presigned_url:null,history:[]};e.exports=()=>{var e,t;const r=I(),A=R(),[L,N]=n(b),x=e=>{const{name:t,value:r,type:a,checked:n}=e.target;N(e=>({...e,[t]:"checkbox"===a?n:r}))},D=async(e,t)=>{e.preventDefault();try{const e=await A(y({...L,action:t}));N(t=>{var r,a,n,o,i,l,s,c,u,d,p;return{...t,query:e.query||t.query,database:e.database||t.database,review_define_objective:null!==(r=e.review_define_objective)&&void 0!==r?r:t.review_define_objective,review_before_generate:null!==(a=e.review_before_generate)&&void 0!==a?a:t.review_before_generate,review_after_generate:null!==(n=e.review_after_generate)&&void 0!==n?n:t.review_after_generate,review_after_reflect:null!==(o=e.review_after_reflect)&&void 0!==o?o:t.review_after_reflect,research_critique:null!==(i=e.research_critique)&&void 0!==i?i:t.research_critique,Detailed:null!==(l=e.detailed)&&void 0!==l?l:t.detailed,lastNode:null!==(s=e.lastNode)&&void 0!==s?s:t.lastNode,nextNode:null!==(c=e.nextNode)&&void 0!==c?c:t.nextNode,thread:{...t.thread,...e.thread||{}},draftRev:null!==(u=e.draftRev)&&void 0!==u?u:t.draftRev,count:""!==e.count?Number(e.count):t.count,writer_result:null!==(d=e.writer_result)&&void 0!==d?d:t.writer_result,presigned_url:null!==(p=e.presigned_url)&&void 0!==p?p:t.presigned_url,history:[...t.history,{query:t.query,response:e}]}})}catch(r){console.error("Error submitting query:",r)}},[F,w]=n(!1);return a.createElement(s,{className:r.root},a.createElement(c,{variant:"h6",className:r.title},"Database"),a.createElement(o,{fullWidth:!0,variant:"outlined",name:"database",value:L.database,className:r.input}),a.createElement(c,{variant:"h6",className:r.title},"Natural Language SQL Query"),a.createElement(o,{fullWidth:!0,variant:"outlined",name:"query",value:L.query,onChange:x,className:r.input}),a.createElement("div",{className:r.buttonGroup},a.createElement(i,{variant:"contained",color:"primary",className:r.button,onClick:e=>D(e,"generate")},"GENERATE Query"),a.createElement(i,{variant:"contained",className:r.button,onClick:e=>D(e,"continue")},"CONTINUE Query")),a.createElement("div",{className:r.stateInfo},["lastNode","nextNode","draftRev","count"].map(e=>a.createElement("div",{key:e},a.createElement(c,{variant:"caption"},e),a.createElement(c,{variant:"body2"},L[e]))),a.createElement("div",null,a.createElement(c,{variant:"caption"},"Thread"),a.createElement(c,{variant:"body2"},(null===(e=L.thread)||void 0===e||null===(t=e.configurable)||void 0===t?void 0:t.thread_id)||"No Thread"))),a.createElement(u,{className:r.manageAgent},a.createElement(d,{expandIcon:a.createElement(v,null)},a.createElement(c,{variant:"h6"},"MANAGE AGENT")),a.createElement(p,null,a.createElement(m,{container:!0,spacing:3},F&&a.createElement(a.Fragment,null,a.createElement(m,{item:!0,xs:12},a.createElement(c,{variant:"subtitle1"},"Interrupt After State")),a.createElement(m,{item:!0,xs:12},a.createElement(E,{row:!0},["review_define_objective","review_before_generate","review_after_generate","review_after_reflect","research_critique"].map(e=>a.createElement(g,{key:e,control:a.createElement(l,{checked:L[e],onChange:x,name:e,color:"primary"}),label:e}))))),a.createElement(m,{item:!0,xs:12},a.createElement(f,{fullWidth:!0,variant:"outlined",className:r.formControl},a.createElement(_,null,"Writer Result"),a.createElement(h,{value:L.writer_result||"",onChange:x,name:"writer_result",label:"Writer Result"},a.createElement(C,{value:""},a.createElement("em",null,"None")),L.writer_result&&a.createElement(C,{value:L.writer_result},L.writer_result)))),a.createElement(m,{item:!0,xs:12},a.createElement(f,{fullWidth:!0,variant:"outlined",className:r.formControl},a.createElement(_,null,"Writer Explanation"),a.createElement(h,{value:L.reflect||"",onChange:x,name:"writer_explanation",label:"Writer Explanation"},a.createElement(C,{value:""},a.createElement("em",null,"None")),L.reflect&&a.createElement(C,{value:L.reflect},L.reflect)))),L.presigned_url&&a.createElement(m,{item:!0,xs:12},a.createElement(T,{className:r.urlLink,href:L.presigned_url,target:"_blank",rel:"noopener noreferrer"},"Click here to download a CSV of the results"))))))}},249:function(e,t,r){const{START_LOADING:a,END_LOADING:n,CREATE_QUERY:o}=r(114),i=r(250);e.exports={create_query:(e,t)=>async t=>{try{t({type:a}),console.log("-".repeat(30)),console.log("create_query");try{const r=await i.askQuestion_local(e);return console.log("-".repeat(30)),t({type:o,payload:e}),console.log("-".repeat(30)),r.data}catch(r){return console.error("API request failed:",r),void(r.response?(console.error("Response data:",r.response.data),console.error("Response status:",r.response.status),console.error("Response headers:",r.response.headers)):r.request?console.error("Request data:",r.request):console.error("Error message:",r.message))}}catch(l){console.error("Error:",l)}finally{t({type:n})}}}},250:function(e,t,r){const a=r(251).create({baseURL:"http://localhost:3001"});a.interceptors.request.use(e=>(localStorage.getItem("profile")&&(e.headers.Authorization="Bearer "+JSON.parse(localStorage.getItem("profile")).token),e));e.exports={signIn:e=>a.post("/user/signin",e),signUp:e=>a.post("/user/signup",e),fetchCarrier:e=>a.get("/carriers/"+e),fetchCarriers:e=>a.get("/carriers?page="+e),fetchCarrierBySearch:e=>a.get(`/carriers/search?searchQuery=${e.search||"none"}&tags=${e.tags}`),createCarrier:e=>a.post("/carriers",e),updateCarrier:(e,t)=>a.patch("/carriers/"+e,t),deleteCarrier:e=>a.delete("/carriers/"+e),fetchLoad:e=>a.get("/loads/"+e),fetchLoads:e=>a.get("/loads?page="+e),fetchLoadBySearch:e=>a.get(`/loads/search?searchQuery=${e.search||"none"}&tags=${e.tags}`),createLoad:e=>a.post("/loads",e),updateLoad:(e,t)=>a.patch("/loads/"+e,t),deleteLoad:e=>a.delete("/loads/"+e),fetchInvoice:e=>a.get("/invoices/"+e),fetchInvoices:e=>a.get("/invoices?page="+e),fetchInvoiceBySearch:e=>a.get(`/invoices/search?searchQuery=${e.search||"none"}&tags=${e.tags}`),createInvoice:e=>a.post("/invoices",e),updateInvoice:(e,t)=>a.patch("/invoices/"+e,t),deleteInvoice:e=>a.delete("/invoices/"+e),fetchPost:e=>a.get("/posts/"+e),fetchPosts:e=>a.get("/posts?page="+e),fetchPostsByCreator:e=>a.get("/posts/creator?name="+e),fetchPostsBySearch:e=>a.get(`/posts/search?searchQuery=${e.search||"none"}&tags=${e.tags}`),createPost:e=>a.post("/posts",e),likePost:e=>a.patch(`/posts/${e}/likePost`),comment:(e,t)=>a.post(`/posts/${t}/commentPost`,{value:e}),updatePost:(e,t)=>a.patch("/posts/"+e,t),deletePost:e=>a.delete("/posts/"+e),fetchDraft:(e,t)=>a.get("/drafts",{params:{draftDateFrom:e,draftDateTo:t}}),createCompletion:e=>a.post("/queries/create-completion",e),createEdit:(e,t)=>a.post("/queries/create-edit",{input:e,instruction:t}),createEmbedding:e=>a.post("/queries/create-embedding",{input:e}),createFile:e=>a.post("/queries/create-file",{filePath:e}),listFiles:()=>a.get("/queries/list-files"),deleteFile:e=>a.delete("/queries/delete-file",{data:{fileId:e}}),createFineTune:e=>a.post("/queries/create-fine-tune",{trainingFile:e}),listFineTunes:()=>a.get("/queries/list-fine-tunes"),retrieveFineTune:e=>a.post("/queries/retrieve-fine-tune",{fineTuneId:e}),cancelFineTune:e=>a.post("/queries/cancel-fine-tune",{fineTuneId:e}),createModeration:e=>a.post("/queries/create-moderation",{input:e}),createImage:e=>a.post("/queries/create-image",{prompt:e}),createImageEdit:(e,t,r)=>a.post("/queries/create-image-edit",{imagePath:e,maskPath:t,prompt:r}),createImageVariation:e=>a.post("/queries/create-image-variation",{imagePath:e}),createTranscription:e=>a.post("/queries/create-transcription",{audioPath:e}),createTranslation:e=>a.post("/queries/create-translation",{audioPath:e}),createFIMCompletion:(e,t)=>a.post("/queries/create-fim-completion",{prompt:e,suffix:t}),createEmbedding_m:e=>a.post("/queries/create-embedding",{input:e}),createFile_m:e=>a.post("/queries/create-file",{filePath:e}),listFiles_m:()=>a.get("/queries/list-files"),deleteFile_m:e=>a.delete("/queries/delete-file",{data:{fileId:e}}),createFineTune_m:e=>a.post("/queries/create-fine-tune",{trainingFile:e}),listFineTunes_m:()=>a.get("/queries/list-fine-tunes"),retrieveFineTune_m:e=>a.post("/queries/retrieve-fine-tune",{fineTuneId:e}),cancelFineTune_m:e=>a.post("/queries/cancel-fine-tune",{fineTuneId:e}),askQuestion_local:e=>a.post("http://127.0.0.1:5001/api/ask",e,{headers:{"Content-Type":"application/json"}}),askQuestion_ec2:e=>a.post("http://54.244.177.73:8000/api/ask",e,{headers:{"Content-Type":"application/json"}}),testDebugRoute:()=>a.get("/debug")}},269:function(e,t,r){}},[[219,1,2]]]);
//# sourceMappingURL=main.c4eed02b.chunk.js.map
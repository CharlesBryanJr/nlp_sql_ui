{"ast":null,"code":"const{START_LOADING,END_LOADING,CREATE_QUERY}=require('../constants/actionTypes');const api=require('../api/index.js');const create_query=(query,history)=>async dispatch=>{try{dispatch({type:START_LOADING});console.log('-'.repeat(30));console.log('create_query');try{const data=await api.askQuestion_local(query);// const data = await api.askQuestion_ec2(query);\nconsole.log('-'.repeat(30));dispatch({type:CREATE_QUERY,payload:query});console.log('-'.repeat(30));return data.data;}catch(apiError){console.error('API request failed:',apiError);if(apiError.response){// The request was made and the server responded with a status code\n// that falls out of the range of 2xx\nconsole.error('Response data:',apiError.response.data);console.error('Response status:',apiError.response.status);console.error('Response headers:',apiError.response.headers);}else if(apiError.request){// The request was made but no response was received\nconsole.error('Request data:',apiError.request);}else{// Something happened in setting up the request that triggered an Error\nconsole.error('Error message:',apiError.message);}return;}}catch(error){console.error('Error:',error);}finally{dispatch({type:END_LOADING});}};module.exports={create_query};","map":{"version":3,"names":["START_LOADING","END_LOADING","CREATE_QUERY","require","api","create_query","query","history","dispatch","type","console","log","repeat","data","askQuestion_local","payload","apiError","error","response","status","headers","request","message","module","exports"],"sources":["/Users/charlesbryan/Desktop/nlp_sql_ui/src/actions/Queries.js"],"sourcesContent":["const { START_LOADING, END_LOADING, CREATE_QUERY } = require('../constants/actionTypes');\nconst api = require('../api/index.js');\n\nconst create_query = (query, history) => async (dispatch) => {\n  try {\n    dispatch({ type: START_LOADING });\n    console.log('-'.repeat(30));\n    console.log('create_query');\n\n    try {\n      const data = await api.askQuestion_local(query);\n      // const data = await api.askQuestion_ec2(query);\n      console.log('-'.repeat(30));\n      dispatch({ type: CREATE_QUERY, payload: query });\n      console.log('-'.repeat(30));\n      return data.data;\n    } catch (apiError) {\n      console.error('API request failed:', apiError);\n      if (apiError.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        console.error('Response data:', apiError.response.data);\n        console.error('Response status:', apiError.response.status);\n        console.error('Response headers:', apiError.response.headers);\n      } else if (apiError.request) {\n        // The request was made but no response was received\n        console.error('Request data:', apiError.request);\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        console.error('Error message:', apiError.message);\n      }\n      return;\n    }\n\n  } catch (error) {\n    console.error('Error:', error);\n  } finally {\n    dispatch({ type: END_LOADING });\n  }\n};\n\nmodule.exports = { create_query };"],"mappings":"AAAA,KAAM,CAAEA,aAAa,CAAEC,WAAW,CAAEC,YAAa,CAAC,CAAGC,OAAO,CAAC,0BAA0B,CAAC,CACxF,KAAM,CAAAC,GAAG,CAAGD,OAAO,CAAC,iBAAiB,CAAC,CAEtC,KAAM,CAAAE,YAAY,CAAGA,CAACC,KAAK,CAAEC,OAAO,GAAK,KAAO,CAAAC,QAAQ,EAAK,CAC3D,GAAI,CACFA,QAAQ,CAAC,CAAEC,IAAI,CAAET,aAAc,CAAC,CAAC,CACjCU,OAAO,CAACC,GAAG,CAAC,GAAG,CAACC,MAAM,CAAC,EAAE,CAAC,CAAC,CAC3BF,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAE3B,GAAI,CACF,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAAT,GAAG,CAACU,iBAAiB,CAACR,KAAK,CAAC,CAC/C;AACAI,OAAO,CAACC,GAAG,CAAC,GAAG,CAACC,MAAM,CAAC,EAAE,CAAC,CAAC,CAC3BJ,QAAQ,CAAC,CAAEC,IAAI,CAAEP,YAAY,CAAEa,OAAO,CAAET,KAAM,CAAC,CAAC,CAChDI,OAAO,CAACC,GAAG,CAAC,GAAG,CAACC,MAAM,CAAC,EAAE,CAAC,CAAC,CAC3B,MAAO,CAAAC,IAAI,CAACA,IAAI,CAClB,CAAE,MAAOG,QAAQ,CAAE,CACjBN,OAAO,CAACO,KAAK,CAAC,qBAAqB,CAAED,QAAQ,CAAC,CAC9C,GAAIA,QAAQ,CAACE,QAAQ,CAAE,CACrB;AACA;AACAR,OAAO,CAACO,KAAK,CAAC,gBAAgB,CAAED,QAAQ,CAACE,QAAQ,CAACL,IAAI,CAAC,CACvDH,OAAO,CAACO,KAAK,CAAC,kBAAkB,CAAED,QAAQ,CAACE,QAAQ,CAACC,MAAM,CAAC,CAC3DT,OAAO,CAACO,KAAK,CAAC,mBAAmB,CAAED,QAAQ,CAACE,QAAQ,CAACE,OAAO,CAAC,CAC/D,CAAC,IAAM,IAAIJ,QAAQ,CAACK,OAAO,CAAE,CAC3B;AACAX,OAAO,CAACO,KAAK,CAAC,eAAe,CAAED,QAAQ,CAACK,OAAO,CAAC,CAClD,CAAC,IAAM,CACL;AACAX,OAAO,CAACO,KAAK,CAAC,gBAAgB,CAAED,QAAQ,CAACM,OAAO,CAAC,CACnD,CACA,OACF,CAEF,CAAE,MAAOL,KAAK,CAAE,CACdP,OAAO,CAACO,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAChC,CAAC,OAAS,CACRT,QAAQ,CAAC,CAAEC,IAAI,CAAER,WAAY,CAAC,CAAC,CACjC,CACF,CAAC,CAEDsB,MAAM,CAACC,OAAO,CAAG,CAAEnB,YAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"const {\n  START_LOADING,\n  END_LOADING,\n  CREATE_QUERY\n} = require('../constants/actionTypes');\nconst api = require('../api/index.js');\nconst create_query = (query, history) => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    console.log('-'.repeat(30));\n    console.log('create_query');\n    try {\n      const data = await api.askQuestion_local(query);\n      // const data = await api.askQuestion_ec2(query);\n      console.log('-'.repeat(30));\n      dispatch({\n        type: CREATE_QUERY,\n        payload: query\n      });\n      console.log('-'.repeat(30));\n      return data.data;\n    } catch (apiError) {\n      console.error('API request failed:', apiError);\n      if (apiError.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        console.error('Response data:', apiError.response.data);\n        console.error('Response status:', apiError.response.status);\n        console.error('Response headers:', apiError.response.headers);\n      } else if (apiError.request) {\n        // The request was made but no response was received\n        console.error('Request data:', apiError.request);\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        console.error('Error message:', apiError.message);\n      }\n      return;\n    }\n  } catch (error) {\n    console.error('Error:', error);\n  } finally {\n    dispatch({\n      type: END_LOADING\n    });\n  }\n};\nmodule.exports = {\n  create_query\n};","map":{"version":3,"names":["START_LOADING","END_LOADING","CREATE_QUERY","require","api","create_query","query","history","dispatch","type","console","log","repeat","data","askQuestion_local","payload","apiError","error","response","status","headers","request","message","module","exports"],"sources":["/Users/charlesbryan/Desktop/nlp_sql_ui/src/actions/Queries.js"],"sourcesContent":["const { START_LOADING, END_LOADING, CREATE_QUERY } = require('../constants/actionTypes');\nconst api = require('../api/index.js');\n\nconst create_query = (query, history) => async (dispatch) => {\n  try {\n    dispatch({ type: START_LOADING });\n    console.log('-'.repeat(30));\n    console.log('create_query');\n\n    try {\n      const data = await api.askQuestion_local(query);\n      // const data = await api.askQuestion_ec2(query);\n      console.log('-'.repeat(30));\n      dispatch({ type: CREATE_QUERY, payload: query });\n      console.log('-'.repeat(30));\n      return data.data;\n    } catch (apiError) {\n      console.error('API request failed:', apiError);\n      if (apiError.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        console.error('Response data:', apiError.response.data);\n        console.error('Response status:', apiError.response.status);\n        console.error('Response headers:', apiError.response.headers);\n      } else if (apiError.request) {\n        // The request was made but no response was received\n        console.error('Request data:', apiError.request);\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        console.error('Error message:', apiError.message);\n      }\n      return;\n    }\n\n  } catch (error) {\n    console.error('Error:', error);\n  } finally {\n    dispatch({ type: END_LOADING });\n  }\n};\n\nmodule.exports = { create_query };\n"],"mappings":"AAAA,MAAM;EAAEA,aAAa;EAAEC,WAAW;EAAEC;AAAa,CAAC,GAAGC,OAAO,CAAC,0BAA0B,CAAC;AACxF,MAAMC,GAAG,GAAGD,OAAO,CAAC,iBAAiB,CAAC;AAEtC,MAAME,YAAY,GAAGA,CAACC,KAAK,EAAEC,OAAO,KAAK,MAAOC,QAAQ,IAAK;EAC3D,IAAI;IACFA,QAAQ,CAAC;MAAEC,IAAI,EAAET;IAAc,CAAC,CAAC;IACjCU,OAAO,CAACC,GAAG,CAAC,GAAG,CAACC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC3BF,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;IAE3B,IAAI;MACF,MAAME,IAAI,GAAG,MAAMT,GAAG,CAACU,iBAAiB,CAACR,KAAK,CAAC;MAC/C;MACAI,OAAO,CAACC,GAAG,CAAC,GAAG,CAACC,MAAM,CAAC,EAAE,CAAC,CAAC;MAC3BJ,QAAQ,CAAC;QAAEC,IAAI,EAAEP,YAAY;QAAEa,OAAO,EAAET;MAAM,CAAC,CAAC;MAChDI,OAAO,CAACC,GAAG,CAAC,GAAG,CAACC,MAAM,CAAC,EAAE,CAAC,CAAC;MAC3B,OAAOC,IAAI,CAACA,IAAI;IAClB,CAAC,CAAC,OAAOG,QAAQ,EAAE;MACjBN,OAAO,CAACO,KAAK,CAAC,qBAAqB,EAAED,QAAQ,CAAC;MAC9C,IAAIA,QAAQ,CAACE,QAAQ,EAAE;QACrB;QACA;QACAR,OAAO,CAACO,KAAK,CAAC,gBAAgB,EAAED,QAAQ,CAACE,QAAQ,CAACL,IAAI,CAAC;QACvDH,OAAO,CAACO,KAAK,CAAC,kBAAkB,EAAED,QAAQ,CAACE,QAAQ,CAACC,MAAM,CAAC;QAC3DT,OAAO,CAACO,KAAK,CAAC,mBAAmB,EAAED,QAAQ,CAACE,QAAQ,CAACE,OAAO,CAAC;MAC/D,CAAC,MAAM,IAAIJ,QAAQ,CAACK,OAAO,EAAE;QAC3B;QACAX,OAAO,CAACO,KAAK,CAAC,eAAe,EAAED,QAAQ,CAACK,OAAO,CAAC;MAClD,CAAC,MAAM;QACL;QACAX,OAAO,CAACO,KAAK,CAAC,gBAAgB,EAAED,QAAQ,CAACM,OAAO,CAAC;MACnD;MACA;IACF;EAEF,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdP,OAAO,CAACO,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;EAChC,CAAC,SAAS;IACRT,QAAQ,CAAC;MAAEC,IAAI,EAAER;IAAY,CAAC,CAAC;EACjC;AACF,CAAC;AAEDsB,MAAM,CAACC,OAAO,GAAG;EAAEnB;AAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}